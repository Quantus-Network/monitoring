apiVersion: 1

contactPoints:
  - orgId: 1
    name: Email Notifications
    receivers:
      - uid: email-contact-point
        type: email
        settings:
          # Email addresses from environment variable ALERT_EMAIL_ADDRESSES
          addresses: ${ALERT_EMAIL_ADDRESSES}
          singleEmail: false
        disableResolveMessage: false
  
  - orgId: 1
    name: Telegram Notifications
    receivers:
      - uid: telegram-contact-point
        type: telegram
        settings:
          # Telegram Bot Token and Chat ID from environment variables
          bottoken: ${TELEGRAM_BOT_TOKEN}
          chatid: "${TELEGRAM_CHAT_ID}"
          message: |
            {{ range .Alerts }}
            ðŸš¨ *{{ .Labels.alertname }}*
            
            *Status:* {{ .Status }}
            {{ if .Labels.severity }}*Severity:* {{ .Labels.severity }}{{ end }}
            {{ if .Labels.chain }}*Chain:* {{ .Labels.chain }}{{ end }}
            {{ if .Labels.instance }}*Instance:* {{ .Labels.instance }}{{ end }}
            
            {{ if .Annotations.summary }}ðŸ“‹ {{ .Annotations.summary }}{{ end }}
            {{ if .Annotations.description }}
            {{ .Annotations.description }}{{ end }}
            
            ðŸ”— [View in Grafana]({{ .GeneratorURL }})
            {{ end }}
          parse_mode: Markdown
        disableResolveMessage: false

  - orgId: 1
    name: Rocket Notifications
    receivers:
      - uid: rocket-contact-point
        type: slack
        settings:
          url: ${ROCKET_WEBHOOK_URL}
          httpMethod: POST
        disableResolveMessage: false
